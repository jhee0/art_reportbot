# 🚀 태스크월드 자동화 시스템

매일 오전 7시에 태스크월드 데이터를 자동으로 구글 스프레드시트에 업데이트하는 시스템입니다.

## ✨ 특징

- 🕐 **완전 자동화**: 매일 오전 7시에 자동 실행
- 🌐 **클라우드 기반**: 컴퓨터를 켜둘 필요 없음
- 🆓 **완전 무료**: GitHub의 무료 서비스 이용
- 🔒 **안전한 데이터 보관**: 모든 개인정보는 암호화되어 저장
- 📱 **웹에서 관리**: 브라우저만으로 모든 설정 및 관리 가능

---

## 🚀 3분만에 시작하기

### 1단계: 이 프로젝트 복사하기 (30초)

1. **GitHub 계정이 없다면** → [여기서 무료 가입](https://github.com/join)
2. **이 페이지 오른쪽 상단**의 **"Fork" 버튼** 클릭
3. **"Create fork" 버튼** 클릭

✅ 이제 당신의 계정에 자동화 시스템이 복사되었습니다!

### 2단계: 개인정보 설정 (2분)

1. **당신의 저장소**로 이동: `https://github.com/당신의사용자명/taskworld-automation`
2. **"Settings" 탭** 클릭
3. **"Secrets and variables"** → **"Actions"** 클릭
4. **"New repository secret" 버튼**을 눌러서 아래 정보들을 하나씩 입력:

| Secret 이름 | 값 | 설명 |
|-------------|-------------|-------------|
| `TASKWORLD_EMAIL` | your-email@example.com | 태스크월드 로그인 이메일 |
| `TASKWORLD_PASSWORD` | your-password | 태스크월드 로그인 비밀번호 |
| `TASKWORLD_WORKSPACE_NAME` | 아트실 일정 - 2025 6주기 | 동기화할 워크스페이스 이름 |
| `GOOGLE_SPREADSHEET_ID` | 1I-_8o6-cxZIJMs9GWauj-3A1QIF3EYHpXkJax7TV0Tk | 업데이트할 스프레드시트 ID |
| `GOOGLE_CREDENTIALS_JSON` | {"type":"service_account"...} | 구글 서비스 계정 JSON (아래 참조) |

### 3단계: 구글 서비스 계정 설정 (3분)

#### 3-1. 구글 클라우드 콘솔 접속
1. [console.cloud.google.com](https://console.cloud.google.com) 접속
2. 새 프로젝트 생성 (아무 이름이나 상관없음)

#### 3-2. Google Sheets API 활성화
1. **"API 및 서비스" → "라이브러리"**
2. **"Google Sheets API"** 검색 → **"사용 설정"** 클릭

#### 3-3. 서비스 계정 만들기
1. **"IAM 및 관리" → "서비스 계정"**
2. **"서비스 계정 만들기"** 클릭
3. **서비스 계정 이름**: `taskworld-automation`
4. **역할**: 선택 안 함 (기본값 사용)
5. **"완료"** 클릭

#### 3-4. 서비스 계정 키 생성
1. **방금 만든 서비스 계정 이름** 클릭
2. **"키" 탭** → **"키 추가" → "새 키 만들기"**
3. **"JSON" 선택** → **"만들기"** 클릭
4. **다운로드된 JSON 파일을 열어서 전체 내용 복사**
5. **`GOOGLE_CREDENTIALS_JSON` Secret에 붙여넣기**

#### 3-5. 스프레드시트 공유
1. **구글 스프레드시트** 열기
2. **"공유" 버튼** 클릭
3. **서비스 계정 이메일 주소** 입력 (예: `taskworld-automation@project-id.iam.gserviceaccount.com`)
4. **"편집자" 권한** 선택 → **"공유"** 클릭

### 4단계: 테스트 실행 (30초)

1. **"Actions" 탭** 클릭
2. **"태스크월드 일일 동기화"** 클릭
3. **"Run workflow" 버튼** 클릭 → **"Run workflow"** 다시 클릭
4. **새로고침** 후 결과 확인 (초록색 체크 = 성공 ✅)

---

## 🎉 완료! 이제 매일 자동으로 실행됩니다

### 📅 자동 실행 스케줄
- **실행 시간**: 매일 오전 7시 (한국시간)
- **실행 내용**: 태스크월드 → 구글 스프레드시트 데이터 동기화

### 📊 업데이트되는 데이터
- 프로젝트 정보 (ID, 이름, 설명 등)
- 태스크 정보 (ID, 이름, 상태, 담당자, 마감일 등)
- 최종 업데이트 시간

---

## 🔧 관리 및 모니터링

### 실행 상태 확인
1. **GitHub 저장소** → **"Actions" 탭**
2. **최근 실행 목록**에서 상태 확인
   - ✅ 초록색 체크: 성공
   - ❌ 빨간색 X: 실패
   - 🟡 노란색 점: 실행 중

### 로그 확인
1. **Actions 탭**에서 **실행 기록** 클릭
2. **"태스크월드 데이터 동기화"** 단계 클릭
3. **상세 로그** 확인

### 수동 실행
1. **Actions 탭** → **"태스크월드 일일 동기화"**
2. **"Run workflow" 버튼** 클릭

---

## ⚙️ 고급 설정

### 실행 시간 변경
`.github/workflows/daily-sync.yml` 파일에서 cron 설정 수정:

```yaml
# 현재: 매일 오전 7시 (한국시간)
- cron: '0 22 * * *'  # UTC 22:00 = KST 07:00

# 예시: 매일 오전 9시로 변경
- cron: '0 0 * * *'   # UTC 00:00 = KST 09:00
```

### 워크스페이스 변경
`TASKWORLD_WORKSPACE_NAME` Secret 값 수정

### 다른 스프레드시트 사용
`GOOGLE_SPREADSHEET_ID` Secret 값 수정

---

## 🚨 문제 해결

### 자주 발생하는 문제들

#### 1. "인증 실패" 오류
- **원인**: 태스크월드 이메일/비밀번호 오류
- **해결**: `TASKWORLD_EMAIL`, `TASKWORLD_PASSWORD` Secret 재확인

#### 2. "워크스페이스를 찾을 수 없음" 오류
- **원인**: 워크스페이스 이름 오타
- **해결**: 태스크월드에서 정확한 워크스페이스 이름 확인 후 `TASKWORLD_WORKSPACE_NAME` 수정

#### 3. "구글 스프레드시트 인증 실패" 오류
- **원인**: 서비스 계정 설정 문제
- **해결**: 
  - Google Sheets API 활성화 확인
  - 서비스 계정 키 재생성
  - 스프레드시트 공유 권한 재확인

#### 4. "스프레드시트를 찾을 수 없음" 오류
- **원인**: 스프레드시트 ID 오류 또는 공유 권한 없음
- **해결**: 
  - `GOOGLE_SPREADSHEET_ID` 재확인
  - 서비스 계정에 편집자 권한 부여 확인

### 로그 분석
Actions 탭의 로그에서 확인할 수 있는 정보:
- ✅ `태스크월드 인증 성공`: 태스크월드 로그인 성공
- ✅ `워크스페이스 발견`: 워크스페이스 찾기 성공
- ✅ `프로젝트 X개 발견`: 프로젝트 조회 성공
- ✅ `구글 스프레드시트 인증 성공`: 구글 인증 성공
- ✅ `스프레드시트 업데이트 완료`: 전체 프로세스 성공

---

## 🔒 보안 정보

### 데이터 보안
- **모든 개인정보는 GitHub Secrets에 암호화되어 저장**
- **로그에 비밀번호나 민감한 정보 노출 없음**
- **오픈소스 코드로 투명성 보장**

### 권한 관리
- **서비스 계정은 지정된 스프레드시트에만 접근**
- **최소한의 권한만 부여**
- **주기적인 키 갱신 권장**

---

## 📞 지원

### 문제가 해결되지 않을 때
1. **Actions 탭의 로그를 확인**하여 정확한 오류 메시지 파악
2. **이 README의 문제 해결 섹션** 참조
3. **프로젝트 관리자에게 연락** (로그 스크린샷 첨부)

### 기능 개선 요청
- GitHub Issues 탭에서 개선 사항 제안
- 새로운 기능 아이디어 공유

---

## 📝 변경 기록

### v1.0.0
- 태스크월드 API 연동
- 구글 스프레드시트 자동 업데이트
- 매일 자동 실행 스케줄
- 완전한 오류 처리 및 로깅

---

## 🤝 기여하기

이 프로젝트를 개선하고 싶다면:
1. Fork 후 개선 사항 적용
2. Pull Request 생성
3. 코드 리뷰 후 반영

---

**🎉 축하합니다! 이제 태스크월드 데이터가 매일 자동으로 업데이트됩니다!**

더 이상 수동으로 데이터를 복사할 필요가 없어요. 편안하게 자동화의 혜택을 누리세요! 🚀
